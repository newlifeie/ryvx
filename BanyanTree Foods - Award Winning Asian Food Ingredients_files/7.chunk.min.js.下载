(window.feefoJsonp=window.feefoJsonp||[]).push([[7],{141:function(e,i,t){"use strict";var n=t(1),s=f(t(217));t(216),t(28),t(136);var o=f(t(2)),r=f(t(91)),d=f(t(27));function f(e){return e&&e.__esModule?e:{default:e}}var l={product:{single:"node_independentProductRatingOneReview",multi:"node_independentProductRatingReviews"},service:{single:"node_independentServiceRatingOneReview",multi:"node_independentServiceRatingReviews"},single:"node_independentFeedbackBasedOn",multi:"node_independentRatingOneReviewTotal"};function a(){this.mixin(a.prototype),this.mixin(r.default),this.configInstance=o.default.setReference(this.opts.widgetReference,o.default.init(this)),this.count=0,this.feefoLink="",this.linkAction="",this.mode="",this.rating=0,this.templateClassName="",this.widgetReference=null,this.configInstance.listen(this),this.on("mount",this._onMount),this.on("update",this._onUpdate),this.opts.displayAwardBadge&&(this.serviceAwardLevel=this.configInstance.data.serviceAwardLevel)}Object.assign(a.prototype,d.default.prototype,{_onMount:function(){this._mapOpts(),this.update(),this._applyTranslations()},_onUpdate:function(){this._mapOpts(),this._applyTranslations()},_getRatingNode:function(){var e="product"===this.feedbackType?"product":"service";return 1===this.count?l[e].single||l.single:l[e].multi||l.multi},_applyTranslations:function(){d.default.call(this,this.config.translations.nodes);var e={independent:{classes:".feefowidget-independent-rating-text",text:this.getNode(this._getRatingNode()).replace("{{number}}",this.count)},allReviews:{classes:".feefowidget-read-all-reviews",text:this.getNode("node_readAllReviews")},customerRating:{classes:".feefowidget-average-customer-rating",text:"".concat(this.getNode("node_averageCustomerRating"),":")}};this.insertNode(e.independent),this.insertNode(e.allReviews),this.insertNode(e.customerRating)},_mapOpts:function(){this.count=this.opts.count,this.feedbackType=("string"==typeof this.opts.feedbackType?this.opts.feedbackType:"SERVICE").toLowerCase(),this.feefoLink=this.opts.reviewUrl+"?timeFrame="+this.opts.timeframe,this.lightboxCallback=this.opts.lightboxCallback,this.linkAction=this.opts.linkAction,this.mode=this.opts.mode,this.rating=this.opts.rating,this.templateClassName="feefowidget-carousel-summary-"+this.mode.toLowerCase().split("_").join("-"),this.widgetReference=this.opts.widgetReference}}),(0,n.tag)("feefowidget-carousel-summary",s.default,null,a)},147:function(e,i,t){"use strict";var n,s=t(1),o=t(252),r=(n=o)&&n.__esModule?n:{default:n};function d(){this.mixin(d.prototype)}t(251),t(28),Object.assign(d.prototype,{openReviewPage:function(){window.open(this.opts.review.url)}}),(0,s.tag)("feefowidget-carousel-single-slide-content",r.default,null,d)},169:function(e,i,t){"use strict";var n=r(t(45)),s=r(t(259)),o=t(9);function r(e){return e&&e.__esModule?e:{default:e}}var d=t(1),f=t(5);t(46),t(258),t(141),t(57),t(58);var l=t(2),a=t(16),c=t(17),g=t(75);d.tag(o.CAROUSEL.tag,t(247),t(246),function(){var e,i,t=this,o=l.init(t),r=[];function d(){clearTimeout(i),i=setTimeout(function(){w()},250)}function w(){var e=t.config.preferences.serviceCarouselWidget.templateName,i="SINGLE_REVIEW"===e?t.root.parentElement:window,n=f(i).width(),s=!0,r=!1;(n<t.config.breakpointsCarousel[e]||t.isMobileDevice())&&(s=!1,r=!0),t.main.setDisplayConfig(),o.set("isViewportDesktop",s),o.set("isViewportMobile",r),o.set("isViewportTabletMobile",t.main.config.get("isViewportTabletMobile"),!0)}function u(){f(".feefowidget-window-modal-container").animate({scrollTop:0},500)}function v(e){t.carouselReviews=e.reviews}function p(e){t.summary=e}function h(){t.lightboxIsOpen=!1,t.update()}function m(){t.lightboxIsOpen=!0,t.update()}t.mixin(n.default.prototype),t.mixin(s.default),n.default.call(this),t.carouselReviews=[],t.lightboxClose=h,t.lightboxData={},t.lightboxIsOpen=!1,t.lightboxOpen=m,t.lightboxToggle=function(){t.lightboxIsOpen?h():m()},t.logger=new a(t.root.localName),t.mountConfig=t.opts,t.onMainMount=function(i){t.lightboxData.widgetReference=i.widgetReference,t.lightboxData.integrationType="lightbox-service",t.widgetReference=i.widgetReference,t.update(),f(window).on("resize."+t.widgetReference,d),e=c.getInstance(t.widgetReference),r=[e.on("update-reviews",u,!0),e.on("updated-carousel-reviews",v,!0),e.on("updated-summary",p,!0)],(o=l.setReference(t.widgetReference,o)).listen(t),w(),t.initEventInstance()},t.widgetReference=null,t.main=new g,t.on("unmount",function(){r.forEach(function(e){"function"==typeof e&&e()}),f(window).off("resize."+t.widgetReference,d)}),t.on("update",function(){!function(){var e="";t.config&&(e+="feefowidget-standard-background-"+t.config.preferences.serviceCarouselWidget.background.toLowerCase(),e+=" feefowidget-carousel-container-"+t.config.preferences.serviceCarouselWidget.templateName.toLowerCase().split("_").join("-"),t.config.isViewportMobile&&(e+=" feefowidget-mobile"),(t.config.isViewportDesktop&&"WHITE"===t.config.preferences.serviceCarouselWidget.background||t.config.isViewportMobile&&"WHITE"===t.config.preferences.serviceMobileCarouselWidget.background)&&(e+=" feefowidget-background-white"),(t.config.isViewportDesktop&&t.config.preferences.serviceCarouselWidget.border||t.config.isViewportMobile&&t.config.preferences.serviceMobileCarouselWidget.border&&"SHOW"===t.config.preferences.serviceMobileCarouselWidget.mobile)&&(e+=" feefowidget-border"));t.classString=e}()})})},216:function(e,i){},217:function(e,i,t){e.exports='<div\n  if="{templateClassName && mode !== \'AVERAGE_CUSTOMER_RATING\' && mode !== \'MEDIA_INTEGRATION\'}"\n  class="feefowidget-carousel-summary {templateClassName} {\'feefowidget-carousel-summary--award\': opts.displayAwardBadge && serviceAwardLevel}">\n  <div class="feefowidget-carousel-summary__content">\n    <div>\n      <div class="feefowidget-stars-row">\n        <span\n          if="{mode === \'SINGLE_REVIEW\'}"\n          class="feefowidget-rating-label">\n          <strong>{rating}</strong>/5\n        </span>\n        <feefowidget-rating-stars\n          rating="{rating}"\n          widget-reference="{widgetReference}"></feefowidget-rating-stars>\n        <span\n          if="{mode !== \'SINGLE_REVIEW\'}"\n          class="feefowidget-rating-label">\n          <strong class="feefowidget-rating-value">{rating}</strong>/5\n        </span>\n      </div>\n\n      <div class="feefowidget-review-summary-text">\n        <span class="feefowidget-independent-rating-text"></span>\n      </div>\n    </div>\n\n    <feefowidget-award-badge\n      if="{opts.displayAwardBadge && serviceAwardLevel}"\n      class="feefowidget-carousel-summary__award-badge">\n    </feefowidget-award-badge>\n  </div>\n  <div class="feefowidget-carousel-summary__footer">\n    <img\n      src="'+t(26)+'"\n      alt="feefo logo yellow"\n      title=""\n      class="feefowidget-carousel-summary__logo">\n\n    <a\n      if="{linkAction === \'LINK\'}"\n      target="_blank"\n      href="{feefoLink}"\n      title=""\n      class="feefowidget-read-all-reviews"\n      data-feefowidget-nofollow>\n      <span class="feefowidget-read-all-reviews"></span>\n    </a>\n    <a\n      if="{linkAction === \'LIGHTBOX\'}"\n      onclick="{lightboxCallback}"\n      title=""\n      class="feefowidget-read-all-reviews"\n      data-feefowidget-nofollow>\n      <span class="feefowidget-read-all-reviews"></span>\n    </a>\n  </div>\n</div>\n\n<div\n  if="{templateClassName && mode === \'AVERAGE_CUSTOMER_RATING\' || mode === \'MEDIA_INTEGRATION\'}"\n  class="feefowidget-carousel-summary {templateClassName} {\'feefowidget-carousel-summary--award\': opts.displayAwardBadge && serviceAwardLevel}">\n  <div class="feefowidget-top-row">\n    <span class="feefowidget-average-customer-rating"></span>\n    <feefowidget-rating-stars\n      rating="{rating}"\n      widget-reference="{widgetReference}"></feefowidget-rating-stars>\n    <span class="feefowidget-rating-label">\n      <strong class="feefowidget-rating-value">{rating}</strong>/5\n    </span>\n    <img\n      class="feefowidget-carousel-summary__logo-large"\n      src="'+t(26)+'"\n      alt="Feefo logo"\n      title="">\n  </div>\n  <div class="feefowidget-bottom-row">\n    <span class="feefowidget-review-summary-text">\n      <span class="feefowidget-independent-rating-text"></span>\n    </span>\n    <a\n      if="{linkAction === \'LINK\' && mode !== \'MEDIA_INTEGRATION\'}"\n      target="_blank"\n      href="{feefoLink}"\n      title=""\n      class="feefowidget-read-all-reviews"\n      data-feefowidget-nofollow>\n    </a>\n    <a\n      if="{linkAction === \'LIGHTBOX\' && mode !== \'MEDIA_INTEGRATION\'}"\n      onclick="{lightboxCallback}"\n      title=""\n      class="feefowidget-read-all-reviews"\n      data-feefowidget-nofollow>\n    </a>\n  </div>\n\n  <feefowidget-award-badge\n    if="{opts.displayAwardBadge && serviceAwardLevel}"\n    class="feefowidget-carousel-summary__award-badge feefowidget-carousel-summary__award-badge--absolute">\n  </feefowidget-award-badge>\n</div>\n'},246:function(e,i){},247:function(e,i){e.exports='<feefowidget-container-main\n  on-mount="{onMainMount}"\n  mount-config="{mountConfig}">\n    <div\n      if="{widgetReady && config}"\n      class="feefowidget-standard {parent.classString}">\n      <div\n        if="{config.isViewportDesktop && parent.summary && parent.carouselReviews.length}"\n        class="feefowidget-desktop-wrapper">\n        <feefowidget-carousel-summary\n          if="{parent.summary && parent.summary.meta.count}"\n          lightbox-callback="{parent.lightboxToggle}"\n          link-action="{config.preferences.serviceCarouselWidget.moreReviewsLink}"\n          count="{parent.summary.meta.count}"\n          mode="{config.preferences.serviceCarouselWidget.templateName}"\n          rating="{parent.summary.rating.rating}"\n          review-url="{parent.summary.merchant.review_url}"\n          timeframe="{config.preferences.serviceTimeFrame}"\n          display-award-badge="true"\n          widget-reference="{parent.widgetReference}"></feefowidget-carousel-summary>\n        <feefowidget-carousel-body\n          layout="{config.preferences.serviceCarouselWidget.templateName}"\n          reviews="{parent.carouselReviews}"\n          widget-reference="{parent.widgetReference}"></feefowidget-carousel-body>\n\n        <div class="feefowidget-clearfix"></div>\n      </div>\n\n      <div\n        if="{config.isViewportMobile && config.preferences.serviceCarouselWidget.mobile === \'SHOW\' && parent.summary}"\n        class="feefowidget-mobile-wrapper">\n        <feefowidget-carousel-summary\n          lightbox-callback="{parent.lightboxToggle}"\n          link-action="{config.preferences.serviceCarouselWidget.moreReviewsLink}"\n          count="{parent.summary.meta.count}"\n          mode="mobile"\n          rating="{parent.summary.rating.rating}"\n          review-url="{parent.summary.merchant.review_url}"\n          timeframe="{config.preferences.serviceTimeFrame}"\n          display-award-badge="true"\n          widget-reference="{parent.widgetReference}"></feefowidget-carousel-summary>\n      </div>\n\n      <feefowidget-window-modal\n        track-click="{parent.trackClickDebounced}"\n        close-modal="{parent.lightboxClose}"\n        modal-class="feefowidget-modal-logo-lightbox"\n        render-data="{parent.lightboxData}"\n        render-tag="feefowidget-global"\n        show-modal="{parent.lightboxIsOpen}"\n        widget-reference="{parent.widgetReference}">\n      </feefowidget-window-modal>\n  </div>\n</feefowidget-container-main>\n'},248:function(e,i){},249:function(e,i){e.exports='<div class="feefowidget-carousel-snapshot-body">\n  <button\n    type="button"\n    class="feefowidget-left-button"\n    disabled="{!currentSlide || currentSlide === 0}"\n    onclick="{prevSlide}">\n    <i class="feefowidget-icon feefowidget-icon-angle-left"></i>\n  </button>\n\n  \x3c!-- SNAPSHOT shows 3 reviews per page --\x3e\n  <div\n    if="{reviews && opts.layout === \'SNAPSHOT\'}"\n    class="feefowidget-sliders feefowidget-snapshot-sliders">\n    <div\n      class="feefowidget-big-slide"\n      riot-style="left: {slidePosition + \'px\'};">\n      <div class="feefowidget-slide {feefowidget-left-slide: leftSlide === 0} {feefowidget-right-slide: rightSlide === 0} {feefowidget-showing-slide: currentSlide === 0}">\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[0]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[0]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[1]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[1]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[2]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[2]._transformed}"></feefowidget-carousel-single-slide-content>\n        <div class="feefowidget-clearfix"></div>\n      </div>\n\n      <div class="feefowidget-slide {feefowidget-left-slide: leftSlide === 1} {feefowidget-right-slide: rightSlide === 1} {feefowidget-showing-slide: currentSlide === 1}">\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[3]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[3]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[4]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[4]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[5]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[5]._transformed}"></feefowidget-carousel-single-slide-content>\n        <div class="feefowidget-clearfix"></div>\n      </div>\n\n      <div class="feefowidget-slide {feefowidget-left-slide: leftSlide === 2} {feefowidget-right-slide: rightSlide === 2} {feefowidget-showing-slide: currentSlide === 2}">\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[6]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[6]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[7]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[7]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[8]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[8]._transformed}"></feefowidget-carousel-single-slide-content>\n        <div class="feefowidget-clearfix"></div>\n      </div>\n\n      <div class="feefowidget-slide {feefowidget-left-slide: leftSlide === 3} {feefowidget-right-slide: rightSlide === 3} {feefowidget-showing-slide: currentSlide === 3}">\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[9]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[9]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[10]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[10]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[11]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[11]._transformed}"></feefowidget-carousel-single-slide-content>\n        <div class="feefowidget-clearfix"></div>\n      </div>\n\n      <div class="feefowidget-slide {feefowidget-left-slide: leftSlide === 4} {feefowidget-right-slide: rightSlide === 4} {feefowidget-showing-slide: currentSlide === 4}">\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[12]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[12]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[13]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[13]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[14]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[14]._transformed}"></feefowidget-carousel-single-slide-content>\n        <div class="feefowidget-clearfix"></div>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- AVERAGE_CUSTOMER_RATING has a longer page size. So needs to laid out differently.--\x3e\n  <div\n    if="{reviews && opts.layout === \'AVERAGE_CUSTOMER_RATING\'}"\n    class="feefowidget-sliders feefowidget-sliders-average-customer-rating">\n    <div\n      class="feefowidget-big-slide"\n      riot-style="left: {slidePosition + \'px\'};">\n      <div class="feefowidget-slide {feefowidget-left-slide: leftSlide === 0} {feefowidget-right-slide: rightSlide === 0} {feefowidget-showing-slide: currentSlide === 0}">\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[0]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[0]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[1]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[1]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[2]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[2]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[3]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[3]._transformed}"></feefowidget-carousel-single-slide-content>\n        <div class="feefowidget-clearfix"></div>\n      </div>\n\n      <div class="feefowidget-slide {feefowidget-left-slide: leftSlide === 1} {feefowidget-right-slide: rightSlide === 1} {feefowidget-showing-slide: currentSlide === 1}">\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[4]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[4]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[5]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[5]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[6]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[6]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[7]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[7]._transformed}"></feefowidget-carousel-single-slide-content>\n        <div class="feefowidget-clearfix"></div>\n      </div>\n\n      <div class="feefowidget-slide {feefowidget-left-slide: leftSlide === 2} {feefowidget-right-slide: rightSlide === 2}{feefowidget-showing-slide: currentSlide === 2}">\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[8]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[8]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[9]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[9]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[10]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[10]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[11]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[11]._transformed}"></feefowidget-carousel-single-slide-content>\n        <div class="feefowidget-clearfix"></div>\n      </div>\n\n      <div class="feefowidget-slide {feefowidget-left-slide: leftSlide === 3} {feefowidget-right-slide: rightSlide === 3} {feefowidget-showing-slide: currentSlide === 3}">\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[12]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[12]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[13]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[13]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[14]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[14]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[15]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[15]._transformed}"></feefowidget-carousel-single-slide-content>\n        <div class="feefowidget-clearfix"></div>\n      </div>\n\n      <div class="feefowidget-slide {feefowidget-left-slide: leftSlide === 4} {feefowidget-right-slide: rightSlide === 4} {feefowidget-showing-slide: currentSlide === 4}">\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[16]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[16]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[17]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[17]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[18]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[18]._transformed}"></feefowidget-carousel-single-slide-content>\n        <feefowidget-carousel-single-slide-content\n          if="{reviews[19]}"\n          widget-reference="{opts.widgetReference}"\n          review="{reviews[19]._transformed}"></feefowidget-carousel-single-slide-content>\n        <div class="feefowidget-clearfix"></div>\n      </div>\n    </div>\n  </div>\n\n  <button\n    type="button"\n    class="feefowidget-right-button"\n    disabled="{!slidesCount || currentSlide === slidesCount}"\n    onclick="{nextSlide}">\n    <i class="feefowidget-icon feefowidget-icon-angle-right"></i>\n  </button>\n</div>\n'},250:function(e,i,t){"use strict";var n,s=t(1),o=t(249),r=(n=o)&&n.__esModule?n:{default:n};t(248),t(147);function d(){this.mixin(d.prototype),this.currentSlide=0,this.perPage=3,this.leftSlide=null,this.rightSlide=1,this.slidePosition=0,this.on("mount",this._onMount)}Object.assign(d.prototype,{_onMount:function(){var e;e="AVERAGE_CUSTOMER_RATING"===this.opts.layout?4:3,this._truncateReviews(),this.slideWidth="AVERAGE_CUSTOMER_RATING"===this.opts.layout?1043:748,this.slidesCount=Math.ceil(this.reviews.length/e)-1,this.lastShownSlide=this.slidesCount,this.lastShownSlide===this.currentSlide&&(this.lastShownSlide=1),this.update()},_truncateReviews:function(){var e=this,i=15;"AVERAGE_CUSTOMER_RATING"===this.opts.layout&&(i=20);var t=this.opts.reviews.slice(0,i);this.reviews=[],t.forEach(function(i){i._transformed&&(i._transformed.title&&i._transformed.title.length>=27&&(i._transformed.title=i._transformed.title.substring(0,27)+"..."),i._transformed.review.length>=100&&(i._transformed.review=i._transformed.review.substring(0,100)+"..."),e.reviews.push(i))}),this.update()},nextSlide:function(){this.currentSlide+=1,this.leftSlide=this.currentSlide-1,this.rightSlide=this.currentSlide+1,this.slidePosition=this.slideWidth*this.currentSlide*-1},prevSlide:function(){this.currentSlide-=1,this.leftSlide=this.currentSlide-1,this.rightSlide=this.currentSlide+1,this.slidePosition=this.slideWidth*this.currentSlide*-1}}),(0,s.tag)("feefowidget-carousel-snapshot-body",r.default,null,d)},251:function(e,i){},252:function(e,i){e.exports='<div\n  onclick="{openReviewPage}"\n  class="feefowidget-carousel-single-slide-content">\n  <div class="feefowidget-stars-row">\n    <feefowidget-rating-stars\n      colour="yellow"\n      rating="{opts.review.rating}"\n      widget-reference="{opts.widgetReference}"></feefowidget-rating-stars>\n  </div>\n  <div\n    if="{opts.review.title}"\n    class="feefowidget-title-row">"{opts.review.title}"</div>\n  <div class="feefowidget-review-content-outer">\n    <div class="feefowidget-content-row">{opts.review.review}</div>\n  </div>\n  <div class="feefowidget-meta-row">{this.opts.review.displayName} - {this.opts.review.dateTime}</div>\n</div>\n'},253:function(e,i){},254:function(e,i){e.exports='<div class="feefowidget-carousel-single-review-body">\n  <div\n    if="{reviews}"\n    class="feefowidget-sliders"\n    riot-style="left: {slidePosition + \'px\'};">\n    <div\n      if="{reviews[0]}"\n      class="feefowidget-slide {feefowidget-last-shown-slide: lastShownSlide === 0} {feefowidget-showing-slide: currentSlide === 0}">\n      <feefowidget-carousel-single-slide-content\n        widget-reference="{opts.widgetReference}"\n        review="{reviews[0]._transformed}"\n        reviewer=""></feefowidget-carousel-single-slide-content>\n    </div>\n    <div\n      if="{reviews[1]}"\n      class="feefowidget-slide {feefowidget-last-shown-slide: lastShownSlide === 1} {feefowidget-showing-slide: currentSlide === 1}">\n      <feefowidget-carousel-single-slide-content\n        widget-reference="{opts.widgetReference}"\n        review="{reviews[1]._transformed}"\n      reviewer=""></feefowidget-carousel-single-slide-content>\n    </div>\n    <div\n      if="{reviews[2]}"\n      class="feefowidget-slide {feefowidget-last-shown-slide: lastShownSlide === 2} {feefowidget-showing-slide: currentSlide === 2}">\n      <feefowidget-carousel-single-slide-content\n        widget-reference="{opts.widgetReference}"\n        review="{reviews[2]._transformed}"\n      reviewer=""></feefowidget-carousel-single-slide-content>\n    </div>\n    <div\n      if="{reviews[3]}"\n      class="feefowidget-slide {feefowidget-last-shown-slide: lastShownSlide === 3} {feefowidget-showing-slide: currentSlide === 3}">\n      <feefowidget-carousel-single-slide-content\n        widget-reference="{opts.widgetReference}"\n        review="{reviews[3]._transformed}"\n      reviewer=""></feefowidget-carousel-single-slide-content>\n    </div>\n    <div\n      if="{reviews[4]}"\n      class="feefowidget-slide {feefowidget-last-shown-slide: lastShownSlide === 4} {feefowidget-showing-slide: currentSlide === 4}">\n      <feefowidget-carousel-single-slide-content\n        widget-reference="{opts.widgetReference}"\n        review="{reviews[4]._transformed}"\n        reviewer=""></feefowidget-carousel-single-slide-content>\n    </div>\n  </div>\n\n  <div\n    if="{reviews}"\n    class="feefowidget-slider-indicator">\n    <div\n      if="{reviews[0]}"\n      class="feefowidget-dot {feefowidget-active-dot: currentSlide === 0}"\n      onclick="{selectSlide}"\n      data-target-slide="0"></div>\n    <div\n      if="{reviews[1]}"\n      class="feefowidget-dot {feefowidget-active-dot: currentSlide === 1}"\n      onclick="{selectSlide}"\n      data-target-slide="1"></div>\n    <div\n      if="{reviews[2]}"\n      class="feefowidget-dot {feefowidget-active-dot: currentSlide === 2}"\n      onclick="{selectSlide}"\n      data-target-slide="2"></div>\n    <div\n      if="{reviews[3]}"\n      class="feefowidget-dot {feefowidget-active-dot: currentSlide === 3}"\n      onclick="{selectSlide}"\n      data-target-slide="3"></div>\n    <div\n      if="{reviews[4]}"\n      class="feefowidget-dot {feefowidget-active-dot: currentSlide === 4}"\n      onclick="{selectSlide}"\n      data-target-slide="4"></div>\n  </div>\n\n  <div class="feefowidget-clearfix"></div>\n</div>\n'},255:function(e,i,t){"use strict";var n,s=t(1),o=t(254),r=(n=o)&&n.__esModule?n:{default:n};t(253),t(147);function d(){this.mixin(d.prototype),this.intervalId=null,this.currentSlide=0,this.lastShownSlide=4,this.slidePosition=0,this.on("mount",this._onMount),this.on("unmount",this._onUnMount)}Object.assign(d.prototype,{_onMount:function(){var e=this;this._truncateReviews(),this.intervalId=setInterval(function(){e.nextSlide(),e.update()},7e3)},_onUnMount:function(){clearInterval(this.intervalId)},_truncateReviews:function(){var e=this,i=this.opts.reviews.slice(0,5);this.reviews=[],i.forEach(function(i){i._transformed&&(i._transformed.title&&i._transformed.title.length>45&&(i._transformed.title=i._transformed.title.substring(0,45)+"..."),i._transformed.review.length>95&&(i._transformed.review=i._transformed.review.substring(0,95)+"..."),e.reviews.push(i))}),this.update()},nextSlide:function(){var e=this;if(this.lastShownSlide=this.currentSlide,this.currentSlide===this.reviews.length-1)return this.currentSlide+=1,this.slidePosition=444*this.currentSlide*-1,this.update(),void setTimeout(function(){e.currentSlide=null,e.slidePosition=444,e.update(),setTimeout(function(){e.currentSlide=0,e.slidePosition=0,e.update()},900)},900);this.currentSlide+=1,this.slidePosition=444*this.currentSlide*-1},selectSlide:function(e){var i=parseInt(e.target.getAttribute("data-target-slide"),10);i!==this.currentSlide&&(this.lastShownSlide=this.currentSlide,this.currentSlide=i,this.slidePosition=444*this.currentSlide*-1)}}),(0,s.tag)("feefowidget-carousel-single-review-body",r.default,null,d)},256:function(e,i){},257:function(e,i){e.exports='<div class="feefowidget-carousel-body {templateClassName}">\n  <div if="{opts.layout === \'SINGLE_REVIEW\'}">\n    <feefowidget-carousel-single-review-body\n      widget-reference="{opts.widgetReference}"\n      reviews="{opts.reviews}"></feefowidget-carousel-single-review-body>\n  </div>\n\n  <div if="{opts.layout === \'SNAPSHOT\'}">\n    <feefowidget-carousel-snapshot-body\n      widget-reference="{opts.widgetReference}"\n      reviews="{opts.reviews}"\n      layout="{opts.layout}"></feefowidget-carousel-snapshot-body>\n  </div>\n\n  <div if="{opts.layout === \'AVERAGE_CUSTOMER_RATING\'}">\n    <feefowidget-carousel-snapshot-body\n      widget-reference="{opts.widgetReference}"\n      reviews="{opts.reviews}"\n      layout="{opts.layout}"></feefowidget-carousel-snapshot-body>\n  </div>\n</div>\n'},258:function(e,i,t){"use strict";var n,s=t(1),o=t(257),r=(n=o)&&n.__esModule?n:{default:n};function d(){this.mixin(d.prototype),this.on("mount",this._onMount)}t(256),t(255),t(250),Object.assign(d.prototype,{_onMount:function(){this._buildClassName()},_buildClassName:function(){this.templateClassName="feefowidget-carousel-"+this.opts.layout.toLowerCase().split("_").join("-"),this.update()}}),(0,s.tag)("feefowidget-carousel-body",r.default,null,d)},259:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={isMobileDevice:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}}}]);